angular.module("starter.controllers",["ionic"]).factory("dashboardService",["$http","$rootScope",function(e,t){return{getData:function(){return e.get(t.apiUrl+"all").then(function(e){return e.data})}}}]),angular.module("starter.controllers").controller("AppCtrl",function(e,t,r,a){a.apiUrl="https://ndamus.herokuapp.com/api/guess/"}),angular.module("starter.controllers").controller("PlaylistsCtrl",function(e,t,r,a,n,l,o,i,u){function c(){u.getData().then(function(t){for(var r in t)e.cards.push(t[r]);console.log(e.cards)})}a.clearHistory(),e.cards=[],e.init=c,e.sumLike=function(e){var a=angular.element(e.currentTarget)[0].getAttribute("data-click"),n=angular.element(e.currentTarget).parent().parent()[0].getAttribute("data-id"),l=angular.element(e.currentTarget)[0].innerText;if(console.log(a),null===a||""===a){var o=Number(l)+Number(1);angular.element(e.currentTarget)[0].innerHTML='<i class="icon ion-arrow-up-c"></i>'+o,angular.element(e.currentTarget)[0].setAttribute("data-click","liked"),t({method:"PUT",url:r.apiUrl+n+"/thumbup"}).then(function(e){console.log("liked")})}else if("liked"===a){var o=Number(l)-Number(1);angular.element(e.currentTarget)[0].innerHTML='<i class="icon ion-arrow-up-c"></i>'+o,angular.element(e.currentTarget)[0].setAttribute("data-click",""),t({method:"PUT",url:r.apiUrl+n+"/thumbup"}).then(function(e){console.log("remove like")})}},e.subLike=function(e){var a=angular.element(e.currentTarget)[0].getAttribute("data-click"),n=angular.element(e.currentTarget).parent().parent()[0].getAttribute("data-id"),l=angular.element(e.currentTarget)[0].innerText;if(null===a||""===a)o=Number(l)+Number(1),angular.element(e.currentTarget)[0].innerHTML='<i class="icon ion-arrow-down-c"></i>'+o,angular.element(e.currentTarget)[0].setAttribute("data-click","disliked"),t({method:"PUT",url:r.apiUrl+n+"/thumbdown"}).then(function(e){console.log("disliked")});else if("disliked"===a){var o=Number(l)-Number(1);angular.element(e.currentTarget)[0].innerHTML='<i class="icon ion-arrow-down-c"></i>'+o,angular.element(e.currentTarget)[0].setAttribute("data-click",""),t({method:"PUT",url:r.apiUrl+n+"/thumbdown"}).then(function(e){console.log("remove dislike")})}},e.doRefresh=function(){c(),e.$broadcast("scroll.refreshComplete")},e.onHold=function(){o.show({buttons:[{text:"report this"}],destructiveText:"Delete",titleText:"",cancelText:"Cancel",cancel:function(){hideSheet()},buttonClicked:function(e){return!0}})},c(),n.fromTemplateUrl("my-modal.html",{scope:e,animation:"slide-in-up"}).then(function(t){e.modal=t})}),angular.module("starter.controllers").controller("PlaylistCtrl",function(e,t,r,a){e.cardDetail=[],r({method:"GET",url:"http://www.mocky.io/v2/57eac524130000711f63dd76"}).then(function(t){for(var r in t.data)e.cardDetail.push(t.data[r]);console.log(e.cardDetail)})}),angular.module("starter.controllers").controller("loginCtrl",function(e,t,r,a,n,l,o,i){e.doLogin=function(){FB.getLoginStatus(function(r){"connected"===r.status?(console.log("already logged in, just cached response"),t.go("app.profile")):FB.login(function(t){t.authResponse&&(e.accessToken=t.authResponse.accessToken,FB.api("/me?fields=id, name, about, email, picture.width(360).height(360)",function(e){a.profileData.id=e.id,a.profileData.name=e.name,a.profileData.about=e.about,a.profileData.email=e.email,a.profileData.picture=e.picture.url,console.log("api",a.profileData)}))})})},a.profileData={}}),angular.module("starter.controllers").controller("newCardCtrl",function(e,t,r,a,n){e.params={title:""},e.submit=function(){t({method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},url:r.apiUrl,data:"title="+e.params.title}).then(function(e){n.alert({title:"",template:e.data.message})})}}),angular.module("starter.controllers").controller("profileCtrl",function(e,t,r,a,n){e.profileDetail=[],e.profileDetailPrevOmens=[],e.profileDetailSocialMedia=[],e.loading=!0,r({method:"GET",url:"http://www.mocky.io/v2/57ec1104110000aa212d36a8"}).then(function(t){for(var r in e.profileDetail=t.data,t.data.previousOmen)e.profileDetailPrevOmens.push(t.data.previousOmen[r]);for(var r in t.data.socialMedia)e.profileDetailSocialMedia.push(t.data.socialMedia[r])}).catch(function(r){(e.loading=!1,-1===r.status)&&n.alert({title:"Hum...",template:"Parece que temos um problema com sua conex√£o :("}).then(function(e){t.go("app.connection")})}).finally(function(t){e.loading=!1})});